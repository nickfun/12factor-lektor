
<!doctype html>
<meta charset="utf-8">
<meta name="generator" content="Lektor 2; http://github.com/lektor/lektor">
<link rel="stylesheet" href="../../static/style.css">
<title>[LEKTOR] The Twelve-Factor App</title>
<body>
  <header>
    <h1>
      <a href="/">The Twelve-Factor App</a>
    </h1>
  </header>

  <section class="abstract" id="factor">
    <article>
      <h2>V. Сборка, релиз, выполнение</h2>

      <h3>Строго разделяйте стадии сборки и выполнения</h3>
	
      <p><a href="../../ru/05-build-release-run/codebase">Кодовая база</a> трансформируется в развёртывание (не учитывая развёртывание для разработки) за три этапа:</p>
<ul>
<li><em>Этап сборки</em> -- это трансформация, которая преобразует репозиторий кода в исполняемый пакет, называемый <em>сборка</em>. Используя версию кода по указанному процессом развёртывания коммиту, этап сборки загружает сторонние <a href="../../ru/05-build-release-run/dependencies">зависимости</a> и компилирует двоичные файлы и ресурсы (assets).</li>
<li><em>Этап релиза</em> принимает сборку, полученную на этапе сборки, и объединяет её с текущей <a href="../../ru/05-build-release-run/config">конфигурацией</a> развёртывания. Полученный <em>релиз</em> содержит сборку и конфигурацию и готов к немедленному запуску в среде выполнения.</li>
<li><em>Этап выполнения</em> (также известный как "runtime") запускает приложение в среде выполнения путём запуска некоторого набора <a href="../../ru/05-build-release-run/processes">процессов</a> приложения из определённого релиза.</li>
</ul>
<p><img src="../../images/release.png" alt="Код становится сборкой, которая объединяется с конфигурацией для создания релиза."></p>
<p><strong>Приложение двенадцати факторов использует строгое разделение между этапами сборки, релиза и выполнения.</strong> Например, невозможно внести изменения в код во время выполнения, так как нет способа распространить эти изменения обратно на этап сборки.</p>
<p>Инструменты развертывания, как правило, представляют собой инструменты управления релизами, и что немаловажно, дают возможность отката к предыдущему релизу. Например инструмент развертывания <a href="https://github.com/capistrano/capistrano/wiki">Capistrano</a> сохраняет релизы в подкаталогах каталога с именем <code>releases</code>, где текущий релиз является символической ссылкой на каталог текущего релиза. Команда Capistrano <code>rollback</code> даёт возможность быстро откатится к предыдущему релизу.</p>
<p>Каждый релиз должен иметь уникальный идентификатор, такой как отметка времени релиза (например <code>2015-04-06-15:42:17</code>) или увеличивающееся число (например <code>v100</code>). Релизы могут только добавляться и каждый релиз невозможно изменить после его создания. Любые изменения обязаны создавать новый релиз.</p>
<p>Сборка инициируется разработчиком приложения всякий раз, когда разворачивается новый код. Запуск этапа выполнения, напротив, может происходить автоматически в таких случаях, как перезагрузка сервера, или перезапуск упавшего процесса менеджером процессов. Таким образом, этап выполнения должен быть как можно более технически простым, так как проблемы, которые могут помешать приложению запуститься могут возникнуть в середине ночи, когда нет доступных разработчиков. Этап сборки может быть более сложным, так как возможные ошибки всегда видимы разработчику, который запустил развёртывание.</p>

    </article>
  </section>

  
  
  <section class="concrete">
    <nav>
      <div id="locales">
	
	
	  <a href="../../05-build-release-run/">English (En)</a>
	   | 
	
	  <a href="../../fr/05-build-release-run/">Français (Fr)</a>
	   | 
	
	  <a href="../../de/05-build-release-run/">Deutsch (De)</a>
	   | 
	
	  <a href="../../es/05-build-release-run/">Español (Es)</a>
	   | 
	
	  <a href="../../it/05-build-release-run/">Italiano (It)</a>
	   | 
	
	  <a href="../../ja/05-build-release-run/">日本語 (Ja)</a>
	   | 
	
	  <a href="../../ko/05-build-release-run/">한국어 (Ko)</a>
	   | 
	
	  <a href="../../pt_br/05-build-release-run/">Brazilian Portuguese (Pt_br)</a>
	   | 
	
	  <a href="../../ru/05-build-release-run/">Русский (Ru)</a>
	   | 
	
	  <a href="../../zh_cn/05-build-release-run/">简体中文 (Zh_cn)</a>
	   | 
	
	  <a href="../../pl/05-build-release-run/">Polski (Pl)</a>
	  
	
      </div>
      
	<div id="prev"><a href="../../ru/04-backing-services/">&laquo; Previous</a></div>
      
      
	<div id="next"><a href="../../ru/06-processes/">Next &raquo;</a></div>
      
    </nav>
  </section>
  
  <footer>
    <div id="locales">
      
      
	<a href="../../05-build-release-run/">English (En)</a>
	 | 
      
	<a href="../../fr/05-build-release-run/">Français (Fr)</a>
	 | 
      
	<a href="../../de/05-build-release-run/">Deutsch (De)</a>
	 | 
      
	<a href="../../es/05-build-release-run/">Español (Es)</a>
	 | 
      
	<a href="../../it/05-build-release-run/">Italiano (It)</a>
	 | 
      
	<a href="../../ja/05-build-release-run/">日本語 (Ja)</a>
	 | 
      
	<a href="../../ko/05-build-release-run/">한국어 (Ko)</a>
	 | 
      
	<a href="../../pt_br/05-build-release-run/">Brazilian Portuguese (Pt_br)</a>
	 | 
      
	<a href="../../ru/05-build-release-run/">Русский (Ru)</a>
	 | 
      
	<a href="../../zh_cn/05-build-release-run/">简体中文 (Zh_cn)</a>
	 | 
      
	<a href="../../pl/05-build-release-run/">Polski (Pl)</a>
	
      
    </div>
    <div>Written by Adam Wiggins</div>
    <div>Last updated Fri Jul  5 15:24:48 PDT 2019</div>
    <div>Source code</div>
    <div>Download epub book</div>
    <div>Privacy Policy</div>
    <div>&copy; Copyright 2016 by Nicholas Funnell.</div>
  </footer>
</body>
</html>
