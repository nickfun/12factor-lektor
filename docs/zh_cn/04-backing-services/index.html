
<!doctype html>
<meta charset="utf-8">
<meta name="generator" content="Lektor 2; http://github.com/lektor/lektor">
<link rel="stylesheet" href="../../static/style.css">
<title>[LEKTOR] The Twelve-Factor App</title>
<body>
  <header>
    <h1>
      <a href="/">The Twelve-Factor App</a>
    </h1>
  </header>

  <section class="abstract" id="factor">
    <article>
      <h2>IV. 后端服务</h2>

      <h3>把后端服务(*backing services*)当作附加资源</h3>
	
      <p><em>后端服务</em>是指程序运行所需要的通过网络调用的各种服务，如数据库（<a href="http://dev.mysql.com/">MySQL</a>，<a href="http://couchdb.apache.org/">CouchDB</a>），消息/队列系统（<a href="http://www.rabbitmq.com/">RabbitMQ</a>，<a href="http://kr.github.com/beanstalkd/">Beanstalkd</a>），SMTP 邮件发送服务（<a href="http://www.postfix.org/"> Postfix</a>），以及缓存系统（<a href="http://memcached.org/">Memcached</a>）。</p>
<p>类似数据库的后端服务，通常由部署应用程序的系统管理员一起管理。除了本地服务之外，应用程序有可能使用了第三方发布和管理的服务。示例包括 SMTP（例如 <a href="http://postmarkapp.com/">Postmark</a>），数据收集服务（例如 <a href="http://newrelic.com/">New Relic</a> 或 <a href="http://www.loggly.com/">Loggly</a>），数据存储服务（如 <a href="http://http://aws.amazon.com/s3/">Amazon S3</a>），以及使用 API 访问的服务（例如 <a href="http://dev.twitter.com/">Twitter</a>, <a href="http://code.google.com/apis/maps/index.html">Google Maps</a>, <a href="http://www.last.fm/api">Last.fm</a>）。</p>
<p><strong>12-Factor 应用不会区别对待本地或第三方服务。</strong> 对应用程序而言，两种都是附加资源，通过一个 url 或是其他存储在 <a href="../../zh_cn/04-backing-services/config">配置</a> 中的服务定位/服务证书来获取数据。12-Factor 应用的任意 <a href="../../zh_cn/04-backing-services/codebase">部署</a> ，都应该可以在不进行任何代码改动的情况下，将本地 MySQL 数据库换成第三方服务（例如 <a href="http://aws.amazon.com/rds/">Amazon RDS</a>）。类似的，本地 SMTP 服务应该也可以和第三方 SMTP 服务（例如 Postmark ）互换。上述 2 个例子中，仅需修改配置中的资源地址。</p>
<p>每个不同的后端服务是一份 <em>资源</em> 。例如，一个 MySQL 数据库是一个资源，两个 MySQL 数据库（用来数据分区）就被当作是 2 个不同的资源。12-Factor 应用将这些数据库都视作 <em>附加资源</em> ，这些资源和它们附属的部署保持松耦合。</p>
<p><img src="/images/attached-resources.png" class="full" alt="一种部署附加4个后端服务" /></p>
<p>部署可以按需加载或卸载资源。例如，如果应用的数据库服务由于硬件问题出现异常，管理员可以从最近的备份中恢复一个数据库，卸载当前的数据库，然后加载新的数据库 -- 整个过程都不需要修改代码。</p>

    </article>
  </section>

  

  <section class="concrete">
    <nav>
      <div id="locales">
      
	<a href="/zh_cn">Chinese</a>
	 | 
      
	<a href="/">English</a>
	 | 
      
	<a href="/fr">French</a>
	 | 
      
	<a href="/de">German</a>
	 | 
      
	<a href="/it">Italian</a>
	 | 
      
	<a href="/ja">Japanese</a>
	 | 
      
	<a href="/ko">Korean</a>
	 | 
      
	<a href="/pt_br">Portuguese</a>
	 | 
      
	<a href="/ru">Russian</a>
	 | 
      
	<a href="/es">Spanish</a>
	
      
      </div>
      
	<div id="prev"><a href="../../zh_cn/03-config/">&laquo; Previous</a></div>
      
      
	<div id="next"><a href="../../zh_cn/05-build-release-run/">Next &raquo;</a></div>
      
    </nav>
  </section>

  <footer>
    <div id="locales">
      
	<a href="../../04-backing-services/">En</a>
	 | 
      
	<a href="../../fr/04-backing-services/">Fr</a>
	 | 
      
	<a href="../../de/04-backing-services/">De</a>
	 | 
      
	<a href="../../es/04-backing-services/">Es</a>
	 | 
      
	<a href="../../it/04-backing-services/">It</a>
	 | 
      
	<a href="../../ja/04-backing-services/">Ja</a>
	 | 
      
	<a href="../../ko/04-backing-services/">Ko</a>
	 | 
      
	<a href="../../pt_br/04-backing-services/">Pt_br</a>
	 | 
      
	<a href="../../ru/04-backing-services/">Ru</a>
	 | 
      
	<a href="../../zh_cn/04-backing-services/">Zh_cn</a>
	
      
    </div>
    <div>Written by Adam Wiggins</div>
    <div>Last updated ????</div>
    <div>Source code</div>
    <div>Download epub book</div>
    <div>Privacy Policy</div>
    <div>&copy; Copyright 2016 by Nicholas Funnell.</div>
  </footer>
</body>
</html>
